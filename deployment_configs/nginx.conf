# /etc/nginx/sites-available/dasmgpt
#
# Этот файл говорит Nginx, как обрабатывать запросы к вашему домену

server {
    listen 80;
    # (ВАЖНО) Замените на ваш реальный домен
    server_name ваш-домен.com;

    # --- (ШАГ 1: Отдавать Статику) ---
    # Nginx отдает CSS/JS/Картинки (это быстро)
    location /static/ {
        # (ВАЖНО) Укажите путь к папке, которую создал 'collectstatic'
        alias /home/ubuntu/DasmGPT/staticfiles/;
    }

    # --- (ШАГ 2: Отдавать Медиа) ---
    # (Если у вас есть /media/ - раскомментируйте)
    # location /media/ {
    #     alias /home/ubuntu/DasmGPT/media/;
    # }

    # --- (ШАГ 3: Отдавать "Умные" запросы в Django) ---
    location / {
        include proxy_params;
        # (Это "сокет", который слушает Gunicorn из gunicorn.service)
        proxy_pass http://unix:/run/gunicorn.sock;
    }
}